<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>アンケートフォーム（自動更新付き）</title>
</head>
<body>

    <h2>アンケートフォーム</h2>
    <form id="surveyForm">
        <label for="name">お名前：</label>
        <input type="text" id="name" name="name" required>
        <br><br>
        
        <label for="feedback">フィードバック：</label>
        <textarea id="feedback" name="feedback" required></textarea>
        <br><br>
        
        <button type="button" onclick="submitForm()">送信</button>
    </form>

    <h3>アンケート結果</h3>
    <ul id="resultList">
        <!-- 結果がここに追加されます -->
    </ul>

    <script>
        const mockDatabase = [];  // 擬似的なデータベースとして使用

        function submitForm() {
            // フォームの値を取得
            const name = document.getElementById("name").value;
            const feedback = document.getElementById("feedback").value;

            // 入力内容を確認
            if (name === "" || feedback === "") {
                alert("全ての項目を入力してください。");
                return;
            }

            // 新しいデータを擬似データベースに追加
            mockDatabase.push({ name: name, feedback: feedback });

            // フォームをリセット
            document.getElementById("surveyForm").reset();

            // リストを更新
            updateList();
        }

        function updateList() {
            const resultList = document.getElementById("resultList");
            resultList.innerHTML = "";  // リストをクリア

            // 擬似データベースからデータを取得してリストに追加
            mockDatabase.forEach((entry) => {
                const li = document.createElement("li");
                li.textContent = `名前: ${entry.name}, フィードバック: ${entry.feedback}`;
                resultList.appendChild(li);
            });
        }

        // 定期的にリストを更新（1秒ごとに実行）
        setInterval(updateList, 1000);
    </script>

</body>
</html>
